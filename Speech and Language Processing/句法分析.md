refer:<br>[数据驱动的依存句法分析方法研究, 2013](http://xueshu.baidu.com/usercenter/paper/show?paperid=1d70068d807b1dce44da287329db3697&site=xueshu_se&hitarticle=1)





​	句法分析（syntactic parsing）是对输入的文本句子进行分析以得到句子的句法结构的处理过程。对句法结构进行分析，一方面是语言理解的自身需求，句法分析是语言理解的重要一环，另一方面也为其它自然语言处理任务提供支持。例如句法驱动的统计机器翻译需要对源语言或目标语言（或者同时两种语言）进行句法分析；语义分析通常以句法分析的输出结果作为输入以便获得更多的指示信息。

​	根据句法结构的表示形式不同，最常见的句法分析任务可以分为以下三种：(1) 依存句法分析（dependency syntactic parsing），作用是识别句子中词汇与词汇之间的相互依存关系；(2) 短语结构句法分析（phrase-structure syntactic parsing），该任务也被称作成分句法分析（constituent syntactic parsing），作用是识别出句子中的短语结构以及短语之间的层次句法关系；(3) 深层文法句法分析，即利用深层文法，例如词汇化树邻接文法（Lexicalized Tree Adjoining Grammar，LTAG）、词汇功能文法（Lexical Functional Grammar，LFG）、组合范畴文法（Combinatory Categorial Grammar，CCG）等，对句子进行深层的句法以及语义分析。

​	上述几种句法分析任务比较而言，依存句法分析属于浅层句法分析。短语结构句法分析介于依存句法分析和深层文法句法分析之间。深层文法句法分析可以提供丰富的句法和语义信息，但是采用的文法相对复杂，分析器的运行复杂度也较高，这使得深层句法分析当前不适合处理大规模数据。下文主要介绍当前使用的依存句法分析技术方法。

​	依存句法分析任务的输入是一个已完成分词的自然语言句子。形式化地，输入句子可以表示为：$x=w_0 w_1 \dots w_i \dots w_n$, $w_i$表示输入句子的第$i$个词；其中一个为核心词。图1表示输入句子“2019年春运哪里回家的票最难买?”的依存树，其中浅灰色的词语为核心词。

![依存句法分析](https://github.com/bifeng/daily_book_notes/raw/master/dependency_parsing_example.png)

​							图1 依存树示例

​	一般地，一个依存句法树由多个依存弧构成，表示为$d=\{(m,h,l):$$0 \le m \le n,$$ 0 < h \le n, l \in L\}$, 其中一条有向弧$(m, h, l)$表示从依存词（Dependent）$w_m$到核心词（Head）$w_h$的依存弧，标签$l$表示依存弧的句法关系类型，$L$是标注规范中定义的依存句法关系类型集合。依存弧的关系类型用来表示两个词之间的句法或语义关系。例如，从“票”到“买”的依存弧表示“买”是核心词，“票”是依存词，关系类型SBJ表示主语（Subject）。一颗合法的依存树需满足三个条件：（1）连通；（2）无环；（3）单核心。

​	依存句法分析的目标是给定输入句子$x$, 寻找概率或分值最大的依存树$d^*$:
$$
d^* = \arg \max_{d} Score(x,d;\theta)
$$
​	其中，$\theta$为模型参数，即特征权重向量。

​	目前依存句法分析方法主要属于数据驱动式（data-driven），即在训练实例集合上学习得到依存句法分析器，而不涉及依存语法理论的研究。数据驱动的主要优势在于给定较大规模的训练数据，不需要过多的人工干预，就可以得到比较好的模型。因此，这类方法很容易应用到新领域和新语言环境。数据驱动的依存句法分析方法主要有两种主流方法：基于图（graph-based）的分析方法和基于转移（transition-based）的分析方法。	

### 基于图的依存句法分析方法

​	基于图的依存分析模型将依存句法分析问题看成从完全有向图中寻找最大生成树的问题。一棵依存树的分值由构成依存树的几种子树的分值累加得到。模型通过基于动态规划的解码算法从所有可能的依存树中搜索出分值最高的依存树。主要从以下四个方面阐述：

（1）模型定义

​	根据依存树分值中包含的子树的复杂度，基于图的依存分析模型可以简单区分为一阶和高阶模型。一阶模型中，依存树的分值由所有依存弧的分值累加得到，即依存弧之间相互独立，互不影响。高阶模型主要为二阶模型和三阶模型，二阶模型中，依存树的分值中融入了相邻兄弟弧（Sibling）和祖孙弧（Parent-child-grandchild）的分值；三阶模型中，进一步增加了祖孙兄弟弧（Grandparent-parent-sibling）等三条依存弧构成的子树信息。高阶模型可以使用更加复杂的子树特征，因此分析准确率更高，但是解码算法的效率也会下降。

（2）特征表示

​	在上述模型定义的基础上，提取相应的一阶、二阶和三阶子树特征。每种子树特征考虑句子中的词语和词性信息、依存弧的方向和距离信息等。随着高阶子树特征的使用，依存句法分析模型的准确率也有较大幅度的提高。

（3）训练算法

​	通常采用在线训练算法（Online Training），如平均感知器算法（Averaged Perceptron）、被动进取算法（Passive-Aggressive）和Margin Infused Relaxed算法（MIRA）。在线学习算法以迭代的方式训练特征的权重。一次迭代中遍历整个训练数据集合，每次根据一个训练实例的分析结果对当前的权重向量进行调整。

（4）解码算法

​	一阶模型对应的解码算法为Eisner算法。Eisner算法的本质是动态规划，不断合并相邻子串的分析结果，直到得到整个句子的结果，其时间复杂度为$O(n^3)$. 二阶、三阶模型的解码算法大多为Eisner算法的扩展。也有采用基于柱搜索(beam search)的解码算法，允许模型方便地融入更高阶的解码算法，同时保证较低的时间复杂度。

### 基于转移的依存句法分析方法

​	基于转移的依存分析模型将依存树的搜索过程建模为一个动作序列，将依存分析问题转化为寻找最优动作序列的问题。模型通过贪心搜索或者柱搜索的方式找到近似最优的依存树。优点在于可以充分利用已形成的子树信息，从而形成丰富的特征，以指导模型决策下一个动作。主要从以下四个方面阐述：

（1）模型定义

​	根据下一个动作的建模方式，主要有两种：第一种是使用局部分类器（如最大熵分类器）决定下一个动作，选择概率最大的动作，此时，一个依存树的概率由其对应的动作序列中每一个动作的概率累乘得到；第二种即采用线性全局模型决定下一个动作，一个依存树的分值为对应动作序列中每一个动作的分值的累加。

（2）特征表示

​	基于转移的依存句法分析方法的优势在于可以充分使用已构成的子树信息，如三阶子树特征，词的配价信息等。

（3）训练算法

​	在模型定义的基础上，采取相应的训练算法。针对局部分类器，首先在训练语料上训练出一个局部分类器，然后在解码过程中重复使用，决定下一个动作，通常使用的分类器包括基于记忆的分类器、支持向量机等。针对全局线性模型，通常采用平均感知器的在线训练算法。

（4）解码算法

​	解码算法的任务是找到一个概率或分值最大的动作序列。主要包括贪心搜索和柱搜索的解码算法，贪心搜索即每一步都根据当前状态，选择并执行概率最大的动作，进入到下一个状态，如此反复直到达到接收状态，形成一颗合法的依存树；柱搜索即同时保留多个分值最高的状态，直到搜索结束时选择最优的动作路径，也可以在柱搜索中加入动态规划，通过合并等价状态进一步扩大搜索空间，随着搜索空间的增大，依存句法分析的准确率有显著提高。









